<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Kritik & Saran – Villa Zio Bungalow</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
      max-width: 600px;
    }
    h2 {
      text-align: center;
    }
    .stars {
      display: flex;
      gap: 5px;
      cursor: pointer;
      font-size: 30px;
      margin: 5px 0 15px 0;
    }
    .stars span {
      color: lightgray;
      transition: color 0.2s;
    }
    .stars span.active {
      color: gold;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    textarea, button {
      padding: 10px;
      font-size: 14px;
      border-radius: 5px;
      border: 1px solid #ccc;
      width: 100%;
    }
    button {
      background: #007BFF;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>

  <h2>Kritik & Saran – Villa Zio Bungalow</h2>

  <form id="ratingForm">
    <label>1. Bagaimana pengalaman menginap Anda secara keseluruhan?</label>
    <div class="stars" data-field="pengalaman"></div>

    <label>2. Bagaimana penilaian Anda terhadap kebersihan, kenyamanan, dan fasilitas?</label>
    <div class="stars" data-field="kebersihan"></div>

    <label>3. Bagaimana pelayanan staf selama Anda menginap?</label>
    <div class="stars" data-field="pelayanan"></div>

    <label>4. Apa yang paling Anda sukai dari Villa Zio Bungalow?</label>
    <textarea name="suka" required></textarea>

    <label>5. Apa yang menurut Anda perlu ditingkatkan?</label>
    <textarea name="perbaikan" required></textarea>

    <button type="submit">Kirim</button>
  </form>

  <script>
    const scriptURL = "PASTE_URL_WEBAPP_DISINI"; // Ganti dengan URL Web App kamu

    // --- Generate stars (5 bintang per pertanyaan) ---
    document.querySelectorAll(".stars").forEach(container => {
      const field = container.getAttribute("data-field");
      for (let i = 1; i <= 5; i++) {
        const star = document.createElement("span");
        star.innerHTML = "&#9733;";
        star.dataset.value = i;
        star.addEventListener("click", () => {
          container.querySelectorAll("span").forEach(s => s.classList.remove("active"));
          for (let j = 0; j < i; j++) {
            container.querySelectorAll("span")[j].classList.add("active");
          }
          container.dataset.selected = i;
        });
        container.appendChild(star);
      }
    });

    // --- Submit form ---
    document.getElementById("ratingForm").addEventListener("submit", e => {
      e.preventDefault();

      const data = {
        pengalaman: document.querySelector('[data-field="pengalaman"]').dataset.selected || "",
        kebersihan: document.querySelector('[data-field="kebersihan"]').dataset.selected || "",
        pelayanan: document.querySelector('[data-field="pelayanan"]').dataset.selected || "",
        suka: e.target.suka.value,
        perbaikan: e.target.perbaikan.value
      };

      fetch(scriptURL, {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => res.json())
      .then(res => {
        alert("Terima kasih! Kritik & saran Anda sudah terkirim 👍");
        e.target.reset();
        document.querySelectorAll(".stars span").forEach(s => s.classList.remove("active"));
      })
      .catch(err => {
        alert("Gagal mengirim data 😢");
        console.error(err);
      });
    });
  </script>

</body>
</html>
